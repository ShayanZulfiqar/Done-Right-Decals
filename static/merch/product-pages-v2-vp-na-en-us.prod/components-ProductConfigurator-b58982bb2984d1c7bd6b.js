/*! For license information please see components-ProductConfigurator-b58982bb2984d1c7bd6b.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6882],{37579:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var r=t(62193),i=t.n(r),o=t(47689),s=t.n(o),u=t(39093),l=t(67855),a=t(79868),c=t(49581),d=t(47050),f=t(57432),h=t(30578),p=t(76676),m=t(55367),g=t(23433),v=t(5696),w=t(4580);var b=e=>{const{index:n,selection:t,disabled:r,removePadding:i}=e,{compatibleValues:u,attributeConstraints:l}=(0,o.useContext)(g.Y),{locale:a}=(0,o.useContext)(d.FD),{selections:c={},selectCompatibleValue:f,selectIncompatibleValue:b}=(0,o.useContext)(v.z);return s().createElement(w.md,{locale:a},s().createElement(h.A,{builderSelection:t,removePadding:i,selectorIndex:n,key:`on-page-selector-${n}`,disabled:r,onChange:e=>{m.Ay.trackBuilderSelection({optionKey:t.property.key,valueKey:e||""}),(0,p.wp)({option:t.property,selectedValue:e,attributeConstraints:l,selections:c,compatibleValues:u,isRanged:"Text box"===t.selectionStyle,userSelectValue:f,userSelectIncompatibleValue:b})}}))},y=t(96148),E=t(99944),x=t(39843),N=t(25875),O=t(94638),C=t(91074),S=t(77535),T=t(13544),I=t(18525),A=t(33308),M=t(19185),k=t(46790),D=t(78306),q=t(95467),_=t(55258),R=t(44631),V=t(8096),P=t(8465);var F=e=>{const{bulkOrderUrl:n,builderData:t}=e,{compatibleQuantities:r,temporarilyOutOfStock:i}=(0,o.useContext)(g.Y),{mpv:u,locale:l}=(0,o.useContext)(d.FD),{selectedQuantity:a,clientSideStateInitialized:f,selectQuantity:h}=(0,o.useContext)(v.z),{pluginData:p}=(0,o.useContext)(R.t),w=p.contentful.quantity,b=p.contentful.recommended,y=f,E=q.A.getRecommendedQuantity(u.quantities),x=e=>{const{mpv:n,pageZone:t,pageSection:r,pageStage:i}=e;m.Ay.trackExperimentClicked(n,{label:`${t} view`,pageSection:r,pageStage:i,variationName:"control",experimentName:"quantity_savings"})},F=(0,o.useCallback)((e=>x({mpv:u,pageZone:"Quantity Dropdown",pageSection:P.O.pageSection,pageStage:"Discover"})),[u,x]);if((0,o.useEffect)((()=>{a&&["wallCalendars","deskCalendars","photobooks"].includes(u.mpvId)&&V.A.setAlbelliQty(a)}),[a,u.mpvId]),r.length<=0)return s().createElement(s().Fragment,null);return s().createElement(c.f,{marginTop:4},s().createElement(N.V,{span:12,className:"quantity-control"},s().createElement(O.p,{flexDirection:"column",mb:2},s().createElement(C.s,null,s().createElement("label",{htmlFor:"builder-quantity-dropdown"},w)),s().createElement(S.$O,{id:"builder-quantity-dropdown",disabled:i,sizeVariant:"mini",value:y&&(null==a?void 0:a.toString())||" ",onChange:e=>{h(parseInt(e)),m.Ay.trackBuilderSelection({optionKey:"Quantity",valueKey:e})},onClick:F,fullWidth:!0},s().createElement(T.X,null,w),s().createElement(I.q,null,s().createElement(A.T,null,r.map((e=>{const n=e===E,r=s().createElement(s().Fragment,null,e.toLocaleString(l),s().createElement(D.A,{quantity:e,quantityDropdownPriceDisplay:t.quantityDropdownPriceDisplay}));return s().createElement(M.o,{value:e.toString(),key:`quantity-dropdown-${e}`,label:e.toString(),labelNode:r},s().createElement(O.p,{alignItems:"center"},r,n&&s().createElement(k.P,{ml:2,skin:"announcement",variant:"overlay"},b)))})),s().createElement(_.A,{bulkOrderUrl:n})))))))},U=t(99194),L=t(31646),Z=t(77615),B=t(67727),H=t(97689),K=t(82801);const $=e=>{var n,t,r,i,u,l;const{0:a,1:c}=(0,o.useState)(""),{attributeConstraints:f,prices:h}=(0,o.useContext)(g.Y),{locale:p}=(0,o.useContext)(d.FD),{designOptions:m={}}=(0,o.useContext)(v.z),{compatibleColors:b}=(0,o.useContext)(K._);(0,o.useEffect)((()=>{if(m[E]){var e,n;const t=null===(e=y.options)||void 0===e||null===(n=e.find((e=>e.key===m[E])))||void 0===n?void 0:n.name;c(null!=t?t:"")}else c("")}),[m]);const y=e.selectionData.property,E=y.key;if(!y||!b)return s().createElement(s().Fragment,null);const x=(y.options||[]).map((n=>(0,H.p)({optionValue:n,option:y,selections:m,compatibleValues:b,attributeConstraints:f,showIncompatibleValues:e.showIncompatibleValues,dictionary:{outOfStockText:"",selectorIncompatibleText:"",newCalloutText:"",recommendedText:""}})));return s().createElement(w.Hn,{productOption:{key:E,name:y.name,style:"color-swatch",selectedKey:m[E],choices:x},skin:"standard",tenant:B.A.tenant,locale:p,currency:null!==(n=null===(t=Object.values(h||{}))||void 0===t||null===(r=t[0])||void 0===r?void 0:r.currency)&&void 0!==n?n:"",fractionDigits:null!==(i=null===(u=Object.values(h||{}))||void 0===u||null===(l=u[0])||void 0===l?void 0:l.fractionDigits)&&void 0!==i?i:2,onChanged:n=>{var t;const{choiceKey:r}=n;e.onChange(r);const i=null===(t=y.options)||void 0===t?void 0:t.find((e=>e.key===r));c((null==i?void 0:i.name)||"")},showIncompatibleChoices:e.showIncompatibleValues,hidePrices:!0})};var j=t(25564);var X=e=>{const{builderSelection:n,selectorIndex:t,removePadding:r,disabled:i,onChange:o}=e,u=null==n?void 0:n.selectionStyle;if(!n)return s().createElement(s().Fragment,null);const l=0===t;return s().createElement(N.V,{span:u===j.hO.TEXT_BOX?6:12,spanXs:u===j.hO.TEXT_BOX?6:12,className:`selector-column ${(0,f.qr)(u,r)}`},u===j.hO.SWATCHES&&s().createElement($,{selectionData:n,showIncompatibleValues:l,disabled:i,onChange:o,selectorIndex:0}))};var z=e=>{const{index:n,templateSelections:t,disabled:r,removePadding:i}=e,{locale:u}=(0,o.useContext)(d.FD),{designOptions:l,selectDesignOptions:a}=(0,o.useContext)(v.z);return s().createElement(w.md,{locale:u},s().createElement(X,{builderSelection:t,removePadding:i,selectorIndex:n,key:`on-page-selector-${n}`,disabled:r,onChange:e=>{m.Ay.trackBuilderSelection({optionKey:t.property.key,valueKey:e||""}),a({...l,[t.property.key]:e||""})}}))},Q=t(65373);let G=function(){function e(){}return e.getHyphenatedColorName=function(e){return e?e.replace(/([a-z][A-Z])/g,(e=>`${e[0]}-${e[1].toLowerCase()}`)):void 0},e.startCase=function(e){return e.replace(/(^|\s)[^\s]/g,(e=>e.toUpperCase()))},e}();var Y=()=>{let e;const{useExperiment:n}=(0,L.d)(),t=s().useContext(d.FD),r=t.productBuilderOptions.selections,{tenant:o,locale:h,mpv:p}=t,{temporarilyOutOfStock:m}=s().useContext(g.Y),{studioDocumentUrl:v}=(0,U.A)();let w=!1;const N=t.productBuilder,O=N.useQuantityDropdown,[C,S]=s().useState(),{isMobile:T}=(0,E.t)((0,a.OO)()),I=n(Z.i);return"test"===I&&(e=(e=>{const n=(0,Q._0)(e);return n&&n.options&&!i()(n.options)?(null==n||n.options.forEach((e=>{e.name=G.startCase(e.name)})),{selectionStyle:j.hO.SWATCHES,property:n}):null})(h)),s().useEffect((()=>{let e=!0;return(async()=>{const n=await(0,y.Th)({tenant:o,culture:h,flowAction:"bulkorder",productKey:p.coreProductId,version:p.version,optionValues:{},quantity:void 0,optimizelyEndUserId:(0,x.F)(),isMobile:T,urlTokens:{documentUrl:v}});e&&S(null==n?void 0:n.url)})(),()=>{e=!1}}),[T]),s().createElement(s().Fragment,null,"test"===I&&e&&!i()(e)&&s().createElement(z,{templateSelections:e,index:0,disabled:!1,removePadding:!1}),r.length>0&&s().createElement(c.f,{className:"controls-row"},r.map(((e,n)=>(w=(0,f.DG)(e.selectionStyle,w),s().createElement(b,{index:n,selection:e,removePadding:w,key:`option-${n}`,disabled:m}))))),s().createElement(u.A,{placeholderType:l.Or.QuantityDropdown},O&&s().createElement(F,{builderData:N,bulkOrderUrl:C})))}},51408:function(e,n,t){var r=t(47689),i=t.n(r),o=t(23433),s=t(5696),u=t(44631),l=t(67727),a=t(4580),c=t(97689),d=t(47050);n.A=e=>{const{compatibleValues:n,attributeConstraints:t,prices:f}=(0,r.useContext)(o.Y),{selections:h={}}=(0,r.useContext)(s.z),{pluginData:p}=(0,r.useContext)(u.t),{locale:m}=(0,r.useContext)(d.FD),g=e.selectionData.property,v=g&&n[g.key]&&0!==n[g.key].length,w=(0,r.useMemo)((()=>{var r,i,o,s,u,a,d,w,b,y;if(!v)return;const E=null!==(r=p.contentful.dropdownIncompatibleMessage)&&void 0!==r?r:"",x=null!==(i=p.contentful.outOfStockButtonAttribute)&&void 0!==i?i:"",N=null!==(o=p.contentful.newCalloutText)&&void 0!==o?o:"",O=null!==(s=p.contentful.recommended)&&void 0!==s?s:"",C=null!==(u=null===(a=Object.values(f))||void 0===a||null===(d=a[0])||void 0===d?void 0:d.currency)&&void 0!==u?u:"",S=null!==(w=null===(b=Object.values(f))||void 0===b||null===(y=b[0])||void 0===y?void 0:y.fractionDigits)&&void 0!==w?w:2;return{option:{key:g.key,name:g.name,style:"dropdown",selectedKey:h[g.key],choices:(g.options||[]).map((r=>(0,c.p)({optionValue:r,option:g,selections:h,compatibleValues:n,attributeConstraints:t,showIncompatibleValues:e.showIncompatibleValues,dictionary:{outOfStockText:x,selectorIncompatibleText:E,newCalloutText:N,recommendedText:O}}))).map((e=>{var n,t;return null!==(n=e.callouts)&&void 0!==n&&n.find((e=>e.text===E))?Object.assign({},e,{callouts:null===(t=e.callouts)||void 0===t?void 0:t.filter((e=>e.text!==E))}):e}))},skin:"minimal",tenant:l.A.tenant,locale:m,currency:C,fractionDigits:S,onChanged:n=>{n.choiceKey&&e.onChange(n.choiceKey)},showIncompatibleChoices:e.showIncompatibleValues,hidePrices:!0}}),[p.contentful,f,n,t,h,m,g,e.showIncompatibleValues,e.selectorIndex,v]);return v&&w?i().createElement(a.mX,w):i().createElement(i().Fragment,null)}},63979:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(47689),i=t.n(r),o=t(94565),s=t(25875),u=t(4580),l=t(47050);const a=(0,o.default)({resolved:{},chunkName(){return"Test2Buttons"},isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>Promise.all([t.e(1869),t.e(6578)]).then(t.bind(t,6169)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 6169}}),c=e=>{const{builderSelection:n,selectorIndex:t,disabled:o,onChange:c}=e,d=null==n?void 0:n.selectionStyle,{locale:f}=(0,r.useContext)(l.FD),h=0===t;return i().createElement(u.md,{locale:f},i().createElement(s.V,{span:"Text box"===d?6:12,spanXs:"Text box"===d?6:12,className:"selector-column pdp-test-2"},i().createElement(a,{selectionData:n,showIncompatibleValues:h,onChange:c,disabled:o,selectorIndex:t})))}},97939:function(e,n,t){t.d(n,{A:function(){return en}});var r=t(47689),i=t.n(r),o=t(79868),s=t(57432),u=t(76676),l=t(23433),a=t(5696),c=t(27155),d=t(99944),f=t(4580),h=t(47050),p=t(67727);const m=e=>e.getRanges().map((e=>{var n;return{minimum:e.getMinimum().toNumber(),maximum:e.getMaximum().toNumber(),increment:null===(n=e.getIncrement())||void 0===n?void 0:n.toNumber()}}));var g,v,w=9e15,b=1e9,y="0123456789abcdef",E="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",x="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",N={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-w,maxE:w,crypto:!1},O=!0,C="[DecimalError] ",S=C+"Invalid argument: ",T=C+"Precision limit exceeded",I=C+"crypto unavailable",A="[object Decimal]",M=Math.floor,k=Math.pow,D=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,q=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,R=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,V=1e7,P=7,F=E.length-1,U=x.length-1,L={toStringTag:A};function Z(e){var n,t,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,n=1;n<i;n++)r=e[n]+"",(t=P-r.length)&&(o+=W(t)),o+=r;s=e[n],(t=P-(r=s+"").length)&&(o+=W(t))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function B(e,n,t){if(e!==~~e||e<n||e>t)throw Error(S+e)}function H(e,n,t,r){var i,o,s,u;for(o=e[0];o>=10;o/=10)--n;return--n<0?(n+=P,i=0):(i=Math.ceil((n+1)/P),n%=P),o=k(10,P-n),u=e[i]%o|0,null==r?n<3?(0==n?u=u/100|0:1==n&&(u=u/10|0),s=t<4&&99999==u||t>3&&49999==u||5e4==u||0==u):s=(t<4&&u+1==o||t>3&&u+1==o/2)&&(e[i+1]/o/100|0)==k(10,n-2)-1||(u==o/2||0==u)&&!(e[i+1]/o/100|0):n<4?(0==n?u=u/1e3|0:1==n?u=u/100|0:2==n&&(u=u/10|0),s=(r||t<4)&&9999==u||!r&&t>3&&4999==u):s=((r||t<4)&&u+1==o||!r&&t>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==k(10,n-3)-1,s}function K(e,n,t){for(var r,i,o=[0],s=0,u=e.length;s<u;){for(i=o.length;i--;)o[i]*=n;for(o[0]+=y.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>t-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/t|0,o[r]%=t)}return o.reverse()}L.absoluteValue=L.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),j(e)},L.ceil=function(){return j(new this.constructor(this),this.e+1,2)},L.clampedTo=L.clamp=function(e,n){var t=this,r=t.constructor;if(e=new r(e),n=new r(n),!e.s||!n.s)return new r(NaN);if(e.gt(n))throw Error(S+n);return t.cmp(e)<0?e:t.cmp(n)>0?n:new r(t)},L.comparedTo=L.cmp=function(e){var n,t,r,i,o=this,s=o.d,u=(e=new o.constructor(e)).d,l=o.s,a=e.s;if(!s||!u)return l&&a?l!==a?l:s===u?0:!s^l<0?1:-1:NaN;if(!s[0]||!u[0])return s[0]?l:u[0]?-a:0;if(l!==a)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(n=0,t=(r=s.length)<(i=u.length)?r:i;n<t;++n)if(s[n]!==u[n])return s[n]>u[n]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},L.cosine=L.cos=function(){var e,n,t=this,r=t.constructor;return t.d?t.d[0]?(e=r.precision,n=r.rounding,r.precision=e+Math.max(t.e,t.sd())+P,r.rounding=1,t=function(e,n){var t,r,i;if(n.isZero())return n;r=n.d.length,r<32?i=(1/le(4,t=Math.ceil(r/3))).toString():(t=16,i="2.3283064365386962890625e-10");e.precision+=t,n=ue(e,1,n.times(i),new e(1));for(var o=t;o--;){var s=n.times(n);n=s.times(s).minus(s).times(8).plus(1)}return e.precision-=t,n}(r,ae(r,t)),r.precision=e,r.rounding=n,j(2==v||3==v?t.neg():t,e,n,!0)):new r(1):new r(NaN)},L.cubeRoot=L.cbrt=function(){var e,n,t,r,i,o,s,u,l,a,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(O=!1,(o=c.s*k(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new d(o.toString()):(t=Z(c.d),(o=((e=c.e)-t.length+1)%3)&&(t+=1==o||-2==o?"0":"00"),o=k(t,1/3),e=M((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)).s=c.s),s=(e=d.precision)+3;;)if(a=(l=(u=r).times(u).times(u)).plus(c),r=$(a.plus(c).times(u),a.plus(l),s+2,1),Z(u.d).slice(0,s)===(t=Z(r.d)).slice(0,s)){if("9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(j(r,e+1,1),n=!r.times(r).times(r).eq(c));break}if(!i&&(j(u,e+1,0),u.times(u).times(u).eq(c))){r=u;break}s+=4,i=1}return O=!0,j(r,e,d.rounding,n)},L.decimalPlaces=L.dp=function(){var e,n=this.d,t=NaN;if(n){if(t=((e=n.length-1)-M(this.e/P))*P,e=n[e])for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t},L.dividedBy=L.div=function(e){return $(this,new this.constructor(e))},L.dividedToIntegerBy=L.divToInt=function(e){var n=this.constructor;return j($(this,new n(e),0,1,1),n.precision,n.rounding)},L.equals=L.eq=function(e){return 0===this.cmp(e)},L.floor=function(){return j(new this.constructor(this),this.e+1,3)},L.greaterThan=L.gt=function(e){return this.cmp(e)>0},L.greaterThanOrEqualTo=L.gte=function(e){var n=this.cmp(e);return 1==n||0===n},L.hyperbolicCosine=L.cosh=function(){var e,n,t,r,i,o=this,s=o.constructor,u=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return u;t=s.precision,r=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?n=(1/le(4,e=Math.ceil(i/3))).toString():(e=16,n="2.3283064365386962890625e-10"),o=ue(s,1,o.times(n),new s(1),!0);for(var l,a=e,c=new s(8);a--;)l=o.times(o),o=u.minus(l.times(c.minus(l.times(c))));return j(o,s.precision=t,s.rounding=r,!0)},L.hyperbolicSine=L.sinh=function(){var e,n,t,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(n=o.precision,t=o.rounding,o.precision=n+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=ue(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=ue(o,2,i=i.times(1/le(5,e)),i,!0);for(var s,u=new o(5),l=new o(16),a=new o(20);e--;)s=i.times(i),i=i.times(u.plus(s.times(l.times(s).plus(a))))}return o.precision=n,o.rounding=t,j(i,n,t,!0)},L.hyperbolicTangent=L.tanh=function(){var e,n,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.precision,n=r.rounding,r.precision=e+7,r.rounding=1,$(t.sinh(),t.cosh(),r.precision=e,r.rounding=n)):new r(t.s)},L.inverseCosine=L.acos=function(){var e,n=this,t=n.constructor,r=n.abs().cmp(1),i=t.precision,o=t.rounding;return-1!==r?0===r?n.isNeg()?G(t,i,o):new t(0):new t(NaN):n.isZero()?G(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,n=n.asin(),e=G(t,i+4,o).times(.5),t.precision=i,t.rounding=o,e.minus(n))},L.inverseHyperbolicCosine=L.acosh=function(){var e,n,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(e=r.precision,n=r.rounding,r.precision=e+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,O=!1,t=t.times(t).minus(1).sqrt().plus(t),O=!0,r.precision=e,r.rounding=n,t.ln()):new r(t)},L.inverseHyperbolicSine=L.asinh=function(){var e,n,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(e=r.precision,n=r.rounding,r.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,O=!1,t=t.times(t).plus(1).sqrt().plus(t),O=!0,r.precision=e,r.rounding=n,t.ln())},L.inverseHyperbolicTangent=L.atanh=function(){var e,n,t,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,n=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?j(new o(i),e,n,!0):(o.precision=t=r-i.e,i=$(i.plus(1),new o(1).minus(i),t+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=n,i.times(.5))):new o(NaN)},L.inverseSine=L.asin=function(){var e,n,t,r,i=this,o=i.constructor;return i.isZero()?new o(i):(n=i.abs().cmp(1),t=o.precision,r=o.rounding,-1!==n?0===n?((e=G(o,t+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=r,i.times(2)))},L.inverseTangent=L.atan=function(){var e,n,t,r,i,o,s,u,l,a=this,c=a.constructor,d=c.precision,f=c.rounding;if(a.isFinite()){if(a.isZero())return new c(a);if(a.abs().eq(1)&&d+4<=U)return(s=G(c,d+4,f).times(.25)).s=a.s,s}else{if(!a.s)return new c(NaN);if(d+4<=U)return(s=G(c,d+4,f).times(.5)).s=a.s,s}for(c.precision=u=d+10,c.rounding=1,e=t=Math.min(28,u/P+2|0);e;--e)a=a.div(a.times(a).plus(1).sqrt().plus(1));for(O=!1,n=Math.ceil(u/P),r=1,l=a.times(a),s=new c(a),i=a;-1!==e;)if(i=i.times(l),o=s.minus(i.div(r+=2)),i=i.times(l),void 0!==(s=o.plus(i.div(r+=2))).d[n])for(e=n;s.d[e]===o.d[e]&&e--;);return t&&(s=s.times(2<<t-1)),O=!0,j(s,c.precision=d,c.rounding=f,!0)},L.isFinite=function(){return!!this.d},L.isInteger=L.isInt=function(){return!!this.d&&M(this.e/P)>this.d.length-2},L.isNaN=function(){return!this.s},L.isNegative=L.isNeg=function(){return this.s<0},L.isPositive=L.isPos=function(){return this.s>0},L.isZero=function(){return!!this.d&&0===this.d[0]},L.lessThan=L.lt=function(e){return this.cmp(e)<0},L.lessThanOrEqualTo=L.lte=function(e){return this.cmp(e)<1},L.logarithm=L.log=function(e){var n,t,r,i,o,s,u,l,a=this,c=a.constructor,d=c.precision,f=c.rounding;if(null==e)e=new c(10),n=!0;else{if(t=(e=new c(e)).d,e.s<0||!t||!t[0]||e.eq(1))return new c(NaN);n=e.eq(10)}if(t=a.d,a.s<0||!t||!t[0]||a.eq(1))return new c(t&&!t[0]?-1/0:1!=a.s?NaN:t?0:1/0);if(n)if(t.length>1)o=!0;else{for(i=t[0];i%10==0;)i/=10;o=1!==i}if(O=!1,s=re(a,u=d+5),r=n?Q(c,u+10):re(e,u),H((l=$(s,r,u,1)).d,i=d,f))do{if(s=re(a,u+=10),r=n?Q(c,u+10):re(e,u),l=$(s,r,u,1),!o){+Z(l.d).slice(i+1,i+15)+1==1e14&&(l=j(l,d+1,0));break}}while(H(l.d,i+=10,f));return O=!0,j(l,d,f)},L.minus=L.sub=function(e){var n,t,r,i,o,s,u,l,a,c,d,f,h=this,p=h.constructor;if(e=new p(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new p(e.d||h.s!==e.s?h:NaN):e=new p(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(a=h.d,f=e.d,u=p.precision,l=p.rounding,!a[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!a[0])return new p(3===l?-0:0);e=new p(h)}return O?j(e,u,l):e}if(t=M(e.e/P),c=M(h.e/P),a=a.slice(),o=c-t){for((d=o<0)?(n=a,o=-o,s=f.length):(n=f,t=c,s=a.length),o>(r=Math.max(Math.ceil(u/P),s)+2)&&(o=r,n.length=1),n.reverse(),r=o;r--;)n.push(0);n.reverse()}else{for((d=(r=a.length)<(s=f.length))&&(s=r),r=0;r<s;r++)if(a[r]!=f[r]){d=a[r]<f[r];break}o=0}for(d&&(n=a,a=f,f=n,e.s=-e.s),s=a.length,r=f.length-s;r>0;--r)a[s++]=0;for(r=f.length;r>o;){if(a[--r]<f[r]){for(i=r;i&&0===a[--i];)a[i]=V-1;--a[i],a[r]+=V}a[r]-=f[r]}for(;0===a[--s];)a.pop();for(;0===a[0];a.shift())--t;return a[0]?(e.d=a,e.e=z(a,t),O?j(e,u,l):e):new p(3===l?-0:0)},L.modulo=L.mod=function(e){var n,t=this,r=t.constructor;return e=new r(e),!t.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||t.d&&!t.d[0]?j(new r(t),r.precision,r.rounding):(O=!1,9==r.modulo?(n=$(t,e.abs(),0,3,1)).s*=e.s:n=$(t,e,0,r.modulo,1),n=n.times(e),O=!0,t.minus(n))},L.naturalExponential=L.exp=function(){return te(this)},L.naturalLogarithm=L.ln=function(){return re(this)},L.negated=L.neg=function(){var e=new this.constructor(this);return e.s=-e.s,j(e)},L.plus=L.add=function(e){var n,t,r,i,o,s,u,l,a,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(a=d.d,c=e.d,u=f.precision,l=f.rounding,!a[0]||!c[0])return c[0]||(e=new f(d)),O?j(e,u,l):e;if(o=M(d.e/P),r=M(e.e/P),a=a.slice(),i=o-r){for(i<0?(t=a,i=-i,s=c.length):(t=c,r=o,s=a.length),i>(s=(o=Math.ceil(u/P))>s?o+1:s+1)&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((s=a.length)-(i=c.length)<0&&(i=s,t=c,c=a,a=t),n=0;i;)n=(a[--i]=a[i]+c[i]+n)/V|0,a[i]%=V;for(n&&(a.unshift(n),++r),s=a.length;0==a[--s];)a.pop();return e.d=a,e.e=z(a,r),O?j(e,u,l):e},L.precision=L.sd=function(e){var n,t=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(S+e);return t.d?(n=Y(t.d),e&&t.e+1>n&&(n=t.e+1)):n=NaN,n},L.round=function(){var e=this,n=e.constructor;return j(new n(e),e.e+1,n.rounding)},L.sine=L.sin=function(){var e,n,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.precision,n=r.rounding,r.precision=e+Math.max(t.e,t.sd())+P,r.rounding=1,t=function(e,n){var t,r=n.d.length;if(r<3)return n.isZero()?n:ue(e,2,n,n);t=(t=1.4*Math.sqrt(r))>16?16:0|t,n=n.times(1/le(5,t)),n=ue(e,2,n,n);for(var i,o=new e(5),s=new e(16),u=new e(20);t--;)i=n.times(n),n=n.times(o.plus(i.times(s.times(i).minus(u))));return n}(r,ae(r,t)),r.precision=e,r.rounding=n,j(v>2?t.neg():t,e,n,!0)):new r(NaN)},L.squareRoot=L.sqrt=function(){var e,n,t,r,i,o,s=this,u=s.d,l=s.e,a=s.s,c=s.constructor;if(1!==a||!u||!u[0])return new c(!a||a<0&&(!u||u[0])?NaN:u?s:1/0);for(O=!1,0==(a=Math.sqrt(+s))||a==1/0?(((n=Z(u)).length+l)%2==0&&(n+="0"),a=Math.sqrt(n),l=M((l+1)/2)-(l<0||l%2),r=new c(n=a==1/0?"5e"+l:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+l)):r=new c(a.toString()),t=(l=c.precision)+3;;)if(r=(o=r).plus($(s,o,t+2,1)).times(.5),Z(o.d).slice(0,t)===(n=Z(r.d)).slice(0,t)){if("9999"!=(n=n.slice(t-3,t+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(j(r,l+1,1),e=!r.times(r).eq(s));break}if(!i&&(j(o,l+1,0),o.times(o).eq(s))){r=o;break}t+=4,i=1}return O=!0,j(r,l,c.rounding,e)},L.tangent=L.tan=function(){var e,n,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(e=r.precision,n=r.rounding,r.precision=e+10,r.rounding=1,(t=t.sin()).s=1,t=$(t,new r(1).minus(t.times(t)).sqrt(),e+10,0),r.precision=e,r.rounding=n,j(2==v||4==v?t.neg():t,e,n,!0)):new r(NaN)},L.times=L.mul=function(e){var n,t,r,i,o,s,u,l,a,c=this,d=c.constructor,f=c.d,h=(e=new d(e)).d;if(e.s*=c.s,!(f&&f[0]&&h&&h[0]))return new d(!e.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:f&&h?0*e.s:e.s/0);for(t=M(c.e/P)+M(e.e/P),(l=f.length)<(a=h.length)&&(o=f,f=h,h=o,s=l,l=a,a=s),o=[],r=s=l+a;r--;)o.push(0);for(r=a;--r>=0;){for(n=0,i=l+r;i>r;)u=o[i]+h[r]*f[i-r-1]+n,o[i--]=u%V|0,n=u/V|0;o[i]=(o[i]+n)%V|0}for(;!o[--s];)o.pop();return n?++t:o.shift(),e.d=o,e.e=z(o,t),O?j(e,d.precision,d.rounding):e},L.toBinary=function(e,n){return ce(this,2,e,n)},L.toDecimalPlaces=L.toDP=function(e,n){var t=this,r=t.constructor;return t=new r(t),void 0===e?t:(B(e,0,b),void 0===n?n=r.rounding:B(n,0,8),j(t,e+t.e+1,n))},L.toExponential=function(e,n){var t,r=this,i=r.constructor;return void 0===e?t=X(r,!0):(B(e,0,b),void 0===n?n=i.rounding:B(n,0,8),t=X(r=j(new i(r),e+1,n),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+t:t},L.toFixed=function(e,n){var t,r,i=this,o=i.constructor;return void 0===e?t=X(i):(B(e,0,b),void 0===n?n=o.rounding:B(n,0,8),t=X(r=j(new o(i),e+i.e+1,n),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},L.toFraction=function(e){var n,t,r,i,o,s,u,l,a,c,d,f,h=this,p=h.d,m=h.constructor;if(!p)return new m(h);if(a=t=new m(1),r=l=new m(0),s=(o=(n=new m(r)).e=Y(p)-h.e-1)%P,n.d[0]=k(10,s<0?P+s:s),null==e)e=o>0?n:a;else{if(!(u=new m(e)).isInt()||u.lt(a))throw Error(S+u);e=u.gt(n)?o>0?n:a:u}for(O=!1,u=new m(Z(p)),c=m.precision,m.precision=o=p.length*P*2;d=$(u,n,0,1,1),1!=(i=t.plus(d.times(r))).cmp(e);)t=r,r=i,i=a,a=l.plus(d.times(i)),l=i,i=n,n=u.minus(d.times(i)),u=i;return i=$(e.minus(t),r,0,1,1),l=l.plus(i.times(a)),t=t.plus(i.times(r)),l.s=a.s=h.s,f=$(a,r,o,1).minus(h).abs().cmp($(l,t,o,1).minus(h).abs())<1?[a,r]:[l,t],m.precision=c,O=!0,f},L.toHexadecimal=L.toHex=function(e,n){return ce(this,16,e,n)},L.toNearest=function(e,n){var t=this,r=t.constructor;if(t=new r(t),null==e){if(!t.d)return t;e=new r(1),n=r.rounding}else{if(e=new r(e),void 0===n?n=r.rounding:B(n,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(O=!1,t=$(t,e,0,n,1).times(e),O=!0,j(t)):(e.s=t.s,t=e),t},L.toNumber=function(){return+this},L.toOctal=function(e,n){return ce(this,8,e,n)},L.toPower=L.pow=function(e){var n,t,r,i,o,s,u=this,l=u.constructor,a=+(e=new l(e));if(!(u.d&&e.d&&u.d[0]&&e.d[0]))return new l(k(+u,a));if((u=new l(u)).eq(1))return u;if(r=l.precision,o=l.rounding,e.eq(1))return j(u,r,o);if((n=M(e.e/P))>=e.d.length-1&&(t=a<0?-a:a)<=9007199254740991)return i=J(l,u,t,r),e.s<0?new l(1).div(i):j(i,r,o);if((s=u.s)<0){if(n<e.d.length-1)return new l(NaN);if(1&e.d[n]||(s=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=s,u}return(n=0!=(t=k(+u,a))&&isFinite(t)?new l(t+"").e:M(a*(Math.log("0."+Z(u.d))/Math.LN10+u.e+1)))>l.maxE+1||n<l.minE-1?new l(n>0?s/0:0):(O=!1,l.rounding=u.s=1,t=Math.min(12,(n+"").length),(i=te(e.times(re(u,r+t)),r)).d&&H((i=j(i,r+5,1)).d,r,o)&&(n=r+10,+Z((i=j(te(e.times(re(u,n+t)),n),n+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=j(i,r+1,0))),i.s=s,O=!0,l.rounding=o,j(i,r,o))},L.toPrecision=function(e,n){var t,r=this,i=r.constructor;return void 0===e?t=X(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(B(e,1,b),void 0===n?n=i.rounding:B(n,0,8),t=X(r=j(new i(r),e,n),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+t:t},L.toSignificantDigits=L.toSD=function(e,n){var t=this.constructor;return void 0===e?(e=t.precision,n=t.rounding):(B(e,1,b),void 0===n?n=t.rounding:B(n,0,8)),j(new t(this),e,n)},L.toString=function(){var e=this,n=e.constructor,t=X(e,e.e<=n.toExpNeg||e.e>=n.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t},L.truncated=L.trunc=function(){return j(new this.constructor(this),this.e+1,1)},L.valueOf=L.toJSON=function(){var e=this,n=e.constructor,t=X(e,e.e<=n.toExpNeg||e.e>=n.toExpPos);return e.isNeg()?"-"+t:t};var $=function(){function e(e,n,t){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*n+i,e[o]=r%t|0,i=r/t|0;return i&&e.unshift(i),e}function n(e,n,t,r){var i,o;if(t!=r)o=t>r?1:-1;else for(i=o=0;i<t;i++)if(e[i]!=n[i]){o=e[i]>n[i]?1:-1;break}return o}function t(e,n,t,r){for(var i=0;t--;)e[t]-=i,i=e[t]<n[t]?1:0,e[t]=i*r+e[t]-n[t];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,s,u,l){var a,c,d,f,h,p,m,v,w,b,y,E,x,N,O,C,S,T,I,A,k=r.constructor,D=r.s==i.s?1:-1,q=r.d,_=i.d;if(!(q&&q[0]&&_&&_[0]))return new k(r.s&&i.s&&(q?!_||q[0]!=_[0]:_)?q&&0==q[0]||!_?0*D:D/0:NaN);for(l?(h=1,c=r.e-i.e):(l=V,h=P,c=M(r.e/h)-M(i.e/h)),I=_.length,S=q.length,b=(w=new k(D)).d=[],d=0;_[d]==(q[d]||0);d++);if(_[d]>(q[d]||0)&&c--,null==o?(N=o=k.precision,s=k.rounding):N=u?o+(r.e-i.e)+1:o,N<0)b.push(1),p=!0;else{if(N=N/h+2|0,d=0,1==I){for(f=0,_=_[0],N++;(d<S||f)&&N--;d++)O=f*l+(q[d]||0),b[d]=O/_|0,f=O%_|0;p=f||d<S}else{for((f=l/(_[0]+1)|0)>1&&(_=e(_,f,l),q=e(q,f,l),I=_.length,S=q.length),C=I,E=(y=q.slice(0,I)).length;E<I;)y[E++]=0;(A=_.slice()).unshift(0),T=_[0],_[1]>=l/2&&++T;do{f=0,(a=n(_,y,I,E))<0?(x=y[0],I!=E&&(x=x*l+(y[1]||0)),(f=x/T|0)>1?(f>=l&&(f=l-1),1==(a=n(m=e(_,f,l),y,v=m.length,E=y.length))&&(f--,t(m,I<v?A:_,v,l))):(0==f&&(a=f=1),m=_.slice()),(v=m.length)<E&&m.unshift(0),t(y,m,E,l),-1==a&&(a=n(_,y,I,E=y.length))<1&&(f++,t(y,I<E?A:_,E,l)),E=y.length):0===a&&(f++,y=[0]),b[d++]=f,a&&y[0]?y[E++]=q[C]||0:(y=[q[C]],E=1)}while((C++<S||void 0!==y[0])&&N--);p=void 0!==y[0]}b[0]||b.shift()}if(1==h)w.e=c,g=p;else{for(d=1,f=b[0];f>=10;f/=10)d++;w.e=d+c*h-1,j(w,u?o+w.e+1:o,s,p)}return w}}();function j(e,n,t,r){var i,o,s,u,l,a,c,d,f,h=e.constructor;e:if(null!=n){if(!(d=e.d))return e;for(i=1,u=d[0];u>=10;u/=10)i++;if((o=n-i)<0)o+=P,s=n,l=(c=d[f=0])/k(10,i-s-1)%10|0;else if((f=Math.ceil((o+1)/P))>=(u=d.length)){if(!r)break e;for(;u++<=f;)d.push(0);c=l=0,i=1,s=(o%=P)-P+1}else{for(c=u=d[f],i=1;u>=10;u/=10)i++;l=(s=(o%=P)-P+i)<0?0:c/k(10,i-s-1)%10|0}if(r=r||n<0||void 0!==d[f+1]||(s<0?c:c%k(10,i-s-1)),a=t<4?(l||r)&&(0==t||t==(e.s<0?3:2)):l>5||5==l&&(4==t||r||6==t&&(o>0?s>0?c/k(10,i-s):0:d[f-1])%10&1||t==(e.s<0?8:7)),n<1||!d[0])return d.length=0,a?(n-=e.e+1,d[0]=k(10,(P-n%P)%P),e.e=-n||0):d[0]=e.e=0,e;if(0==o?(d.length=f,u=1,f--):(d.length=f+1,u=k(10,P-o),d[f]=s>0?(c/k(10,i-s)%k(10,s)|0)*u:0),a)for(;;){if(0==f){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=u,u=1;s>=10;s/=10)u++;o!=u&&(e.e++,d[0]==V&&(d[0]=1));break}if(d[f]+=u,d[f]!=V)break;d[f--]=0,u=1}for(o=d.length;0===d[--o];)d.pop()}return O&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function X(e,n,t){if(!e.isFinite())return ie(e);var r,i=e.e,o=Z(e.d),s=o.length;return n?(t&&(r=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+W(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+W(-i-1)+o,t&&(r=t-s)>0&&(o+=W(r))):i>=s?(o+=W(i+1-s),t&&(r=t-i-1)>0&&(o=o+"."+W(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(o+="."),o+=W(r))),o}function z(e,n){var t=e[0];for(n*=P;t>=10;t/=10)n++;return n}function Q(e,n,t){if(n>F)throw O=!0,t&&(e.precision=t),Error(T);return j(new e(E),n,1,!0)}function G(e,n,t){if(n>U)throw Error(T);return j(new e(x),n,t,!0)}function Y(e){var n=e.length-1,t=n*P+1;if(n=e[n]){for(;n%10==0;n/=10)t--;for(n=e[0];n>=10;n/=10)t++}return t}function W(e){for(var n="";e--;)n+="0";return n}function J(e,n,t,r){var i,o=new e(1),s=Math.ceil(r/P+4);for(O=!1;;){if(t%2&&de((o=o.times(n)).d,s)&&(i=!0),0===(t=M(t/2))){t=o.d.length-1,i&&0===o.d[t]&&++o.d[t];break}de((n=n.times(n)).d,s)}return O=!0,o}function ee(e){return 1&e.d[e.d.length-1]}function ne(e,n,t){for(var r,i=new e(n[0]),o=0;++o<n.length;){if(!(r=new e(n[o])).s){i=r;break}i[t](r)&&(i=r)}return i}function te(e,n){var t,r,i,o,s,u,l,a=0,c=0,d=0,f=e.constructor,h=f.rounding,p=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==n?(O=!1,l=p):l=n,u=new f(.03125);e.e>-2;)e=e.times(u),d+=5;for(l+=r=Math.log(k(2,d))/Math.LN10*2+5|0,t=o=s=new f(1),f.precision=l;;){if(o=j(o.times(e),l,1),t=t.times(++c),Z((u=s.plus($(o,t,l,1))).d).slice(0,l)===Z(s.d).slice(0,l)){for(i=d;i--;)s=j(s.times(s),l,1);if(null!=n)return f.precision=p,s;if(!(a<3&&H(s.d,l-r,h,a)))return j(s,f.precision=p,h,O=!0);f.precision=l+=10,t=o=u=new f(1),c=0,a++}s=u}}function re(e,n){var t,r,i,o,s,u,l,a,c,d,f,h=1,p=e,m=p.d,g=p.constructor,v=g.rounding,w=g.precision;if(p.s<0||!m||!m[0]||!p.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=p.s?NaN:m?0:p);if(null==n?(O=!1,c=w):c=n,g.precision=c+=10,r=(t=Z(m)).charAt(0),!(Math.abs(o=p.e)<15e14))return a=Q(g,c+2,w).times(o+""),p=re(new g(r+"."+t.slice(1)),c-10).plus(a),g.precision=w,null==n?j(p,w,v,O=!0):p;for(;r<7&&1!=r||1==r&&t.charAt(1)>3;)r=(t=Z((p=p.times(e)).d)).charAt(0),h++;for(o=p.e,r>1?(p=new g("0."+t),o++):p=new g(r+"."+t.slice(1)),d=p,l=s=p=$(p.minus(1),p.plus(1),c,1),f=j(p.times(p),c,1),i=3;;){if(s=j(s.times(f),c,1),Z((a=l.plus($(s,new g(i),c,1))).d).slice(0,c)===Z(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(Q(g,c+2,w).times(o+""))),l=$(l,new g(h),c,1),null!=n)return g.precision=w,l;if(!H(l.d,c-10,v,u))return j(l,g.precision=w,v,O=!0);g.precision=c+=10,a=s=p=$(d.minus(1),d.plus(1),c,1),f=j(p.times(p),c,1),i=u=1}l=a,i+=2}}function ie(e){return String(e.s*e.s/0)}function oe(e,n){var t,r,i;for((t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),r=0;48===n.charCodeAt(r);r++);for(i=n.length;48===n.charCodeAt(i-1);--i);if(n=n.slice(r,i)){if(i-=r,e.e=t=t-r-1,e.d=[],r=(t+1)%P,t<0&&(r+=P),r<i){for(r&&e.d.push(+n.slice(0,r)),i-=P;r<i;)e.d.push(+n.slice(r,r+=P));n=n.slice(r),r=P-n.length}else r-=i;for(;r--;)n+="0";e.d.push(+n),O&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function se(e,n){var t,r,i,o,s,u,l,a,c;if(n.indexOf("_")>-1){if(n=n.replace(/(\d)_(?=\d)/g,"$1"),R.test(n))return oe(e,n)}else if("Infinity"===n||"NaN"===n)return+n||(e.s=NaN),e.e=NaN,e.d=null,e;if(q.test(n))t=16,n=n.toLowerCase();else if(D.test(n))t=2;else{if(!_.test(n))throw Error(S+n);t=8}for((o=n.search(/p/i))>0?(l=+n.slice(o+1),n=n.substring(2,o)):n=n.slice(2),s=(o=n.indexOf("."))>=0,r=e.constructor,s&&(o=(u=(n=n.replace(".","")).length)-o,i=J(r,new r(t),o,2*o)),o=c=(a=K(n,t,V)).length-1;0===a[o];--o)a.pop();return o<0?new r(0*e.s):(e.e=z(a,c),e.d=a,O=!1,s&&(e=$(e,i,4*u)),l&&(e=e.times(Math.abs(l)<54?k(2,l):We.pow(2,l))),O=!0,e)}function ue(e,n,t,r,i){var o,s,u,l,a=e.precision,c=Math.ceil(a/P);for(O=!1,l=t.times(t),u=new e(r);;){if(s=$(u.times(l),new e(n++*n++),a,1),u=i?r.plus(s):r.minus(s),r=$(s.times(l),new e(n++*n++),a,1),void 0!==(s=u.plus(r)).d[c]){for(o=c;s.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=r,r=s,s=o}return O=!0,s.d.length=c+1,s}function le(e,n){for(var t=e;--n;)t*=e;return t}function ae(e,n){var t,r=n.s<0,i=G(e,e.precision,1),o=i.times(.5);if((n=n.abs()).lte(o))return v=r?4:1,n;if((t=n.divToInt(i)).isZero())v=r?3:2;else{if((n=n.minus(t.times(i))).lte(o))return v=ee(t)?r?2:3:r?4:1,n;v=ee(t)?r?1:4:r?3:2}return n.minus(i).abs()}function ce(e,n,t,r){var i,o,s,u,l,a,c,d,f,h=e.constructor,p=void 0!==t;if(p?(B(t,1,b),void 0===r?r=h.rounding:B(r,0,8)):(t=h.precision,r=h.rounding),e.isFinite()){for(p?(i=2,16==n?t=4*t-3:8==n&&(t=3*t-2)):i=n,(s=(c=X(e)).indexOf("."))>=0&&(c=c.replace(".",""),(f=new h(1)).e=c.length-s,f.d=K(X(f),10,i),f.e=f.d.length),o=l=(d=K(c,10,i)).length;0==d[--l];)d.pop();if(d[0]){if(s<0?o--:((e=new h(e)).d=d,e.e=o,d=(e=$(e,f,t,r,0,i)).d,o=e.e,a=g),s=d[t],u=i/2,a=a||void 0!==d[t+1],a=r<4?(void 0!==s||a)&&(0===r||r===(e.s<0?3:2)):s>u||s===u&&(4===r||a||6===r&&1&d[t-1]||r===(e.s<0?8:7)),d.length=t,a)for(;++d[--t]>i-1;)d[t]=0,t||(++o,d.unshift(1));for(l=d.length;!d[l-1];--l);for(s=0,c="";s<l;s++)c+=y.charAt(d[s]);if(p){if(l>1)if(16==n||8==n){for(s=16==n?4:3,--l;l%s;l++)c+="0";for(l=(d=K(c,i,n)).length;!d[l-1];--l);for(s=1,c="1.";s<l;s++)c+=y.charAt(d[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>l)for(o-=l;o--;)c+="0";else o<l&&(c=c.slice(0,o)+"."+c.slice(o))}else c=p?"0p+0":"0";c=(16==n?"0x":2==n?"0b":8==n?"0o":"")+c}else c=ie(e);return e.s<0?"-"+c:c}function de(e,n){if(e.length>n)return e.length=n,!0}function fe(e){return new this(e).abs()}function he(e){return new this(e).acos()}function pe(e){return new this(e).acosh()}function me(e,n){return new this(e).plus(n)}function ge(e){return new this(e).asin()}function ve(e){return new this(e).asinh()}function we(e){return new this(e).atan()}function be(e){return new this(e).atanh()}function ye(e,n){e=new this(e),n=new this(n);var t,r=this.precision,i=this.rounding,o=r+4;return e.s&&n.s?e.d||n.d?!n.d||e.isZero()?(t=n.s<0?G(this,r,i):new this(0)).s=e.s:!e.d||n.isZero()?(t=G(this,o,1).times(.5)).s=e.s:n.s<0?(this.precision=o,this.rounding=1,t=this.atan($(e,n,o,1)),n=G(this,o,1),this.precision=r,this.rounding=i,t=e.s<0?t.minus(n):t.plus(n)):t=this.atan($(e,n,o,1)):(t=G(this,o,1).times(n.s>0?.25:.75)).s=e.s:t=new this(NaN),t}function Ee(e){return new this(e).cbrt()}function xe(e){return j(e=new this(e),e.e+1,2)}function Ne(e,n,t){return new this(e).clamp(n,t)}function Oe(e){if(!e||"object"!=typeof e)throw Error(C+"Object expected");var n,t,r,i=!0===e.defaults,o=["precision",1,b,"rounding",0,8,"toExpNeg",-w,0,"toExpPos",0,w,"maxE",0,w,"minE",-w,0,"modulo",0,9];for(n=0;n<o.length;n+=3)if(t=o[n],i&&(this[t]=N[t]),void 0!==(r=e[t])){if(!(M(r)===r&&r>=o[n+1]&&r<=o[n+2]))throw Error(S+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=N[t]),void 0!==(r=e[t])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(S+t+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(I);this[t]=!0}else this[t]=!1}return this}function Ce(e){return new this(e).cos()}function Se(e){return new this(e).cosh()}function Te(e,n){return new this(e).div(n)}function Ie(e){return new this(e).exp()}function Ae(e){return j(e=new this(e),e.e+1,3)}function Me(){var e,n,t=new this(0);for(O=!1,e=0;e<arguments.length;)if((n=new this(arguments[e++])).d)t.d&&(t=t.plus(n.times(n)));else{if(n.s)return O=!0,new this(1/0);t=n}return O=!0,t.sqrt()}function ke(e){return e instanceof We||e&&e.toStringTag===A||!1}function De(e){return new this(e).ln()}function qe(e,n){return new this(e).log(n)}function _e(e){return new this(e).log(2)}function Re(e){return new this(e).log(10)}function Ve(){return ne(this,arguments,"lt")}function Pe(){return ne(this,arguments,"gt")}function Fe(e,n){return new this(e).mod(n)}function Ue(e,n){return new this(e).mul(n)}function Le(e,n){return new this(e).pow(n)}function Ze(e){var n,t,r,i,o=0,s=new this(1),u=[];if(void 0===e?e=this.precision:B(e,1,b),r=Math.ceil(e/P),this.crypto)if(crypto.getRandomValues)for(n=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=n[o])>=429e7?n[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(I);for(n=crypto.randomBytes(r*=4);o<r;)(i=n[o]+(n[o+1]<<8)+(n[o+2]<<16)+((127&n[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(n,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(r=u[--o],e%=P,r&&e&&(i=k(10,P-e),u[o]=(r/i|0)*i);0===u[o];o--)u.pop();if(o<0)t=0,u=[0];else{for(t=-1;0===u[0];t-=P)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<P&&(t-=P-r)}return s.e=t,s.d=u,s}function Be(e){return j(e=new this(e),e.e+1,this.rounding)}function He(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ke(e){return new this(e).sin()}function $e(e){return new this(e).sinh()}function je(e){return new this(e).sqrt()}function Xe(e,n){return new this(e).sub(n)}function ze(){var e=0,n=arguments,t=new this(n[e]);for(O=!1;t.s&&++e<n.length;)t=t.plus(n[e]);return O=!0,j(t,this.precision,this.rounding)}function Qe(e){return new this(e).tan()}function Ge(e){return new this(e).tanh()}function Ye(e){return j(e=new this(e),e.e+1,1)}L[Symbol.for("nodejs.util.inspect.custom")]=L.toString,L[Symbol.toStringTag]="Decimal";var We=L.constructor=function e(n){var t,r,i;function o(e){var n,t,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,ke(e))return i.s=e.s,void(O?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(n=0,t=e;t>=10;t/=10)n++;return void(O?n>o.maxE?(i.e=NaN,i.d=null):n<o.minE?(i.e=0,i.d=[0]):(i.e=n,i.d=[e]):(i.e=n,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):oe(i,e.toString())}if("string"!==r)throw Error(S+e);return 45===(t=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===t&&(e=e.slice(1)),i.s=1),R.test(e)?oe(i,e):se(i,e)}if(o.prototype=L,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=Oe,o.clone=e,o.isDecimal=ke,o.abs=fe,o.acos=he,o.acosh=pe,o.add=me,o.asin=ge,o.asinh=ve,o.atan=we,o.atanh=be,o.atan2=ye,o.cbrt=Ee,o.ceil=xe,o.clamp=Ne,o.cos=Ce,o.cosh=Se,o.div=Te,o.exp=Ie,o.floor=Ae,o.hypot=Me,o.ln=De,o.log=qe,o.log10=Re,o.log2=_e,o.max=Ve,o.min=Pe,o.mod=Fe,o.mul=Ue,o.pow=Le,o.random=Ze,o.round=Be,o.sign=He,o.sin=Ke,o.sinh=$e,o.sqrt=je,o.sub=Xe,o.sum=ze,o.tan=Qe,o.tanh=Ge,o.trunc=Ye,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)n.hasOwnProperty(r=i[t++])||(n[r]=this[r]);return o.config(n),o}(N);E=new We(E),x=new We(x);var Je=We;var en=e=>{var n,t,g,v,w,b,y,E,x;const{selectionData:N,disabled:O,onChange:C}=e,{tenant:S}=p.A,{locale:T}=(0,r.useContext)(h.FD),{compatibleRanges:I,attributeConstraints:A,prices:M}=(0,r.useContext)(l.Y),{selections:k={},clientSideStateInitialized:D}=(0,r.useContext)(a.z),{isMobile:q}=(0,d.t)((0,o.OO)()),_=N.property.key,R=null!==(n=null==I?void 0:I[_])&&void 0!==n?n:[],{0:V,1:P}=(0,r.useState)(""),{0:F,1:U}=(0,r.useState)({choiceKey:"",code:f.is.EMPTY_INPUT}),L=(0,r.useRef)(null),Z=(0,s.XN)(R),B=()=>{var e;null===(e=L.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},H=(0,u.RO)(R,D),K=(0,r.useCallback)(((e,n)=>{if(!H||!Z)return;const{choiceKey:t,code:r,additionalInformation:i}=e,{isConstrained:o,isAlwaysConstrained:l}=(0,u.aJ)({option:_,value:t||"",selections:k,attributeConstraints:A}),a=(0,s.t$)({isConstrained:o||l,validationCode:r,additionalInformation:i,rangeInformation:Z,unitOfMeasure:X});(a!==V||n)&&(a?(P(a),C(null)):(P(""),C(t||"")),U(e)),!n&&q&&a&&B()}),[V,q,_,R,D,Z,u.RO,C,U,P,B]);if((0,r.useEffect)((()=>{const e=()=>{K(F,!1)};return H?document.addEventListener(c._,e):document.removeEventListener(c._,e),()=>{document.removeEventListener(c._,e)}}),[F,q,V,c._,H]),!D||0===R.length||!H)return i().createElement(i().Fragment,null);const $=Z?(0,s.SO)(Z):new Je(0),j=Z?(0,s.Gl)(Z):new Je(0),X=null!==(t=null==R||null===(g=R[0])||void 0===g?void 0:g.unitOfMeasure)&&void 0!==t?t:"",{helperText:z}=(0,s.I$)(j,$,X),Q=null!==(v=null===(w=Object.values(M))||void 0===w||null===(b=w[0])||void 0===b?void 0:b.currency)&&void 0!==v?v:"",G=null!==(y=null===(E=Object.values(M))||void 0===E||null===(x=E[0])||void 0===x?void 0:x.fractionDigits)&&void 0!==y?y:2;return i().createElement("div",{ref:L},i().createElement(f.d3,{tenant:S,option:{key:_,name:N.property.name,choices:Z?m(Z):[],style:"textbox",isRequired:!0,selectedKey:k[_]},locale:T,currency:Q,fractionDigits:G,unitOfMeasure:X,onChanged:e=>{K(e,!0)},skin:"minimal",isDisabled:!1,message:{type:V?"error":"info",text:V||z||""}}))}},30578:function(e,n,t){var r=t(47689),i=t.n(r),o=t(94565),s=t(25875),u=t(57432),l=t(31646),a=t(51408),c=t(97939),d=t(63979);const f=(0,o.default)({resolved:{},chunkName(){return"TextButtonSelector"},isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>Promise.all([t.e(1869),t.e(1153)]).then(t.bind(t,97770)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 97770}}),h=(0,o.default)({resolved:{},chunkName(){return"ColorSwatchSelector"},isReady(e){const n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:()=>t.e(4011).then(t.bind(t,34276)),requireAsync(e){const n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((e=>(this.resolved[n]=!0,e)))},requireSync(e){const n=this.resolve(e);return t(n)},resolve(){return 34276}}),p=e=>{const{builderSelection:n,selectorIndex:t,removePadding:r,disabled:o,onChange:p}=e,m=null==n?void 0:n.selectionStyle,{useExperiment:g}=(0,l.d)();if(!n||!n.property||!n.property.name||"Text box"!==m&&(n.property.options||[]).find((e=>!e.name)))return i().createElement(i().Fragment,null);if("test"===g({experimentKey:"pdp_ui_test_2_-_vertical_selection_-_buttons",renderTestExperienceForVariations:["control","test"],fireImpressionForVariations:["control","test"],supportedMpvIds:["flyers"],supportedLocales:["en-US","es-US"]}))return i().createElement(d.Z,e);const v=0===t;return i().createElement(s.V,{span:"Text box"===m?6:12,spanXs:"Text box"===m?6:12,className:`selector-column ${(0,u.qr)(m,r)}`},"Dropdown"===m&&i().createElement(a.A,{selectionData:n,showIncompatibleValues:v,onChange:p,disabled:o,selectorIndex:t}),"Text buttons"===m&&i().createElement(f,{selectionData:n,showIncompatibleValues:v,onChange:p,disabled:o,selectorIndex:t}),"Swatches"===m&&i().createElement(h,{selectionData:n,showIncompatibleValues:v,onChange:p,disabled:o,selectorIndex:t}),"Text box"===m&&i().createElement(c.A,{selectionData:n,onChange:p,disabled:o}))};n.A=p},97689:function(e,n,t){t.d(n,{k:function(){return o},p:function(){return s}});var r=t(76676),i=t(19425);let o=function(e){return e.ERROR="error",e.PROMOTION="promotion",e}({});const s=e=>{let{optionValue:n,option:t,selections:s,compatibleValues:u,attributeConstraints:l,showIncompatibleValues:a,dictionary:c}=e;const d=(0,r.qQ)(t,n,u),{isConstrained:f,isAlwaysConstrained:h}=(0,r.aJ)({option:t.key,value:n.key,attributeConstraints:l,selections:s}),{selectorDisabled:p,selectorStatusMsg:m}=(0,r.Xt)({isPrimaryAttribute:a,isCompatible:d,isConstrained:f,isAlwaysConstrained:h,outOfStockMessage:c.outOfStockText,incompatibleMessage:c.selectorIncompatibleText}),g=((e,n,t)=>{if(e)return{key:o.ERROR,text:e};if(n.isNew)return{key:o.PROMOTION,text:t.newCalloutText};if(n.isRecommended)return{key:o.PROMOTION,text:t.recommendedText};return null})(m,n,c),v=n.images?(0,i.c)(n.images[0],{IMAGE_WIDTH:"200"}):void 0;return{key:n.key,name:n.name,description:n.marketingText,isCompatible:d,isOutOfStock:p,callouts:g?[g]:void 0,image:v}}},57432:function(e,n,t){t.d(n,{DG:function(){return d},Gl:function(){return a},I$:function(){return f},SO:function(){return l},XN:function(){return u},qr:function(){return c},t$:function(){return h}});var r=t(59010),i=t(43242),o=t(90187),s=t(4580);const u=e=>e&&e.length>0?r.RangeConverter.toRanges(e):null,l=e=>e.getRanges().reduce(((e,n)=>e.getMaximum().greaterThan(n.getMaximum())?e:n)).getMaximum(),a=e=>e.getRanges().reduce(((e,n)=>e.getMinimum().lessThan(n.getMinimum())?e:n)).getMinimum(),c=(e,n)=>"Text box"===e?n?"swan-pr-3":"swan-pl-3":"",d=(e,n)=>"Text box"===e&&!n,f=(e,n,t)=>{const r=o.p.getInstance(),s=r.getTranslationEntry("fullRangedHelperText"),u=r.getTranslationEntry("partialRangedHelperText"),l=new i.default;let a,c;return s&&n?(a=l.replace(s,{Minimum:e,UnitOfMeasure:t,Maximum:n}),c=s):u&&(a=l.replace(u,{Minimum:e,UnitOfMeasure:t}),c=u),{helperText:a,usedEntry:c}},h=e=>{const{isConstrained:n,validationCode:t,additionalInformation:r,rangeInformation:i,unitOfMeasure:u}=e;if(n){return o.p.getInstance().getTranslationEntry("outOfStockButtonAttribute")}switch(t){case s.is.EMPTY_INPUT:return m(a(i),l(i),u);case s.is.SUCCESS:return"";case s.is.NOT_IN_RANGE:return p(null==r?void 0:r.adjacentValues,u);case s.is.UNSUPPORTED_PRECISION:return o.p.getInstance().getTranslationEntry("inputErrorPrecision");case s.is.NOT_A_NUMBER:return o.p.getInstance().getTranslationEntry("inputErrorNotANumber");case s.is.UNKNOWN_ERROR:default:return o.p.getInstance().getTranslationEntry("inputErrorGeneral")}},p=(e,n)=>{const t=o.p.getInstance();if(!e||!e.lowerAdjValue&&!e.upperAdjValue){return t.getTranslationEntry("inputErrorGeneral")}const{lowerAdjValue:r,upperAdjValue:s}=e,u=new i.default;let l,a;return r&&!s?(a=t.getTranslationEntry("inputErrorAboveMaximum"),l=u.replace(a,{maximumValue:r,unitOfMeasure:n})):!r&&s?(a=t.getTranslationEntry("inputErrorBelowMinimum"),l=u.replace(a,{minimumValue:s,unitOfMeasure:n})):(a=t.getTranslationEntry("inputErrorBetweenRanges"),l=u.replace(a,{lowerValue:r,higherValue:s,unitOfMeasure:n})),l},m=(e,n,t)=>{const r=o.p.getInstance().getTranslationEntry("inputErrorRequiredField");return(new i.default).replace(r,{lowerValue:e,unitOfMeasure:t,higherValue:n})}}}]);
//# sourceMappingURL=components-ProductConfigurator-b58982bb2984d1c7bd6b.js.map