"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5685],{98583:function(e,t,n){n.r(t),n.d(t,{default:function(){return be}});var a=n(47689),r=n.n(a),l=n(46942),c=n.n(l),i=n(79868),s=n(86122),o=n(42996),m=n(950),u=n(78912),d=n(49581),p=n(25875),E=n(94638),g=n(16739),v=n(50691),f=n(86360),C=n(47050),b=n(61468),h=n(27700),y=n(96454),S=n(25909),D=n(85283),w=n(63059),x=n(9845),N=n(97134),I=n(19796),O=n(36343),k=n(55367),A=n(44631);var T=()=>{const[e,t]=r().useState(!1),{pluginData:n}=(0,a.useContext)(A.t),{mpv:l}=(0,a.useContext)(C.FD),{mpvId:c}=l,i=n.contentful.shippingInformation.value,s=n.contentful.shippingExclusion,o=n.contentful.dismissAlert;return i&&s?r().createElement(E.p,{justifyContent:"flex-start"},r().createElement(b.N,{render:e=>r().createElement(h.$,{skin:"link",className:e.className,onClick:()=>{t(!0),k.Ay.trackDeliveryOptionsEvent(!0,c)},marginY:"0"},e.children)},r().createElement(y.o,{className:"shipping-exclusion-text",fontSize:1,align:"right",as:"span"},s)),r().createElement(S.Hy,{isOpen:e,onRequestDismiss:()=>{t(!1),k.Ay.trackDeliveryOptionsEvent(!1,c)},variant:"panel-right"},r().createElement(D.w,null,r().createElement(w._,null,r().createElement(x.h,{visuallyHiddenLabel:o})),r().createElement(N.v,null,r().createElement(I.I,null,r().createElement(O.A,null,i)))))):r().createElement(r().Fragment,null)};const P=e=>{const{isPricingReady:t,pricePresentationElement:n}=e,{removeShippingNotIncludedCallout:l}=(0,a.useContext)(C.FD),c="undefined"!=typeof window;return r().createElement(E.p,{className:""+(t?"fade-in active":"fade-in")},r().createElement(m.a,{className:"price-block",mr:2},r().createElement(f.L,{fontSize:1},c&&t?n:r().createElement("span",null,"Â "))),c&&t&&!l&&r().createElement(T,null))};var L=n(67855),z=n(39093),F=n(23433),_=n(5696),B=n(60297);var R=e=>{const{prices:t}=(0,a.useContext)(F.Y),{locale:n}=(0,a.useContext)(C.FD),{selectedQuantity:l,clientSideStateInitialized:c}=(0,a.useContext)(_.z),{vatInclusivity:i}=(0,a.useContext)(B.S),[s,o]=r().useState(!1),m=t?t[`${l}`]:void 0,u=m?(0,v.UV)({price:m,quantity:l,locale:n,presentationType:v.Ns.STARTING_AT,vatInclusivity:i}):void 0,d=!!(s&&u&&c);return r().useEffect((()=>{o(!0)}),[]),r().createElement(z.A,{placeholderType:L.Or.Pricing},r().createElement(P,{isPricingReady:d,pricePresentationElement:u}))},U=n(99944),G=n(30714),H=n(21742),W=n(22769);var $=e=>{const[t,n]=(0,H.Wx)({threshold:0}),{satisfactionGuaranteedInView:l,setSatisfactionGuaranteedInView:c}=(0,a.useContext)(W.G),{pluginData:i}=(0,a.useContext)(A.t),s=i.contentful.satisfactionGuaranteed,o=i.contentful.satisfactionGuaranteedImageOnPageBuilder;return(0,a.useEffect)((()=>{n!==l&&c(n)}),[n]),r().createElement(E.p,{backgroundColor:"light-grey",justifyContent:"center",alignItems:"center",className:"satisfaction-guaranteed",ref:t},r().createElement(G.c,{image:o}),r().createElement(y.o,{textAlign:"center",textColor:"dark-grey",fontSize:1,my:5,fontWeight:"bold"},s))},j=n(76676);var V=e=>{const{isPhotobooksProduct:t,isDesktop:n,ctaOverrideEntries:l}=e,{multisiteflow:c}=(0,a.useContext)(F.Y),{selectedQuantity:i}=(0,a.useContext)(_.z);let s=0,o=-16;if(!t||!n){const e=60;o=8;s=(e+o)*(0,j.fy)(l,i,c)-(e/2+o)}return r().createElement(E.p,{backgroundColor:"light-grey",className:"satisfaction-guaranteed-spacer",style:{height:s,marginTop:-(s+o)}})},Y=n(41369),q=n(3566),M=n(74694),K=n(41574),Q=n(45756),X=n(64608),Z=n(43242),J=n(67727),ee=n(40274),te=n(66750);var ne=n(53386),ae=n(8345),re=n(90187),le=n(24330);var ce=e=>{const{locale:t,mpv:n}=(0,a.useContext)(C.FD),{mpvId:l}=n,c=(0,ae.GB)(l,t),{0:i,1:s}=(0,a.useState)("");if(!c)return r().createElement(r().Fragment,null);(0,a.useEffect)((()=>{let e=!0;return(async()=>{const n=await(async(e,t,n)=>{const a=new te.m(J.A.requestor,n),r=new ee.M(a);return await r.getProductUrl(e,t)})(c,t,J.A.tenant);n&&e&&s(n)})(),()=>{e=!1}}),[c]);const o=ne.F.getInstance().getIcon("mailingServicesIcon"),u=re.p.getInstance().getTranslationEntry("mailingServicesDescription"),d=(new Z.default).replace(u,{OpenAnchor:`<a href="${i}">`,CloseAnchor:"</a>"});return r().createElement(E.p,{alignItems:"center",flexDirection:"row",mb:5},r().createElement(m.a,{pr:2},r().createElement(G.c,{image:o})),r().createElement(m.a,null,r().createElement(Y.w,{targetNodes:[u],elementName:"Mailing Services Description"},r().createElement(y.o,{fontSize:1},r().createElement(le.U,{component:"div",content:d})))))},ie=n(8465),se=n(86039);var oe=e=>{const{temporarilyOutOfStock:t}=(0,a.useContext)(F.Y),{pluginData:n}=(0,a.useContext)(A.t),l=n.contentful.outOfStock;return r().createElement(r().Fragment,null,t?r().createElement(y.o,{fontWeight:"bold",fontSize:2,component:"p",textColor:"error",marginY:2},l):void 0)};const me=e=>{const t=(new Z.default).replace(e.specsCalloutLink,{OpenLink:`<a href="${void 0!==e.designSpecsTabIndex&&e.designSpecsTabIndex>=0?`#${e.productPageTabId}`:void 0}">`,CloseLink:"</a>"});return r().createElement(le.U,{component:"div",content:t})},ue={paragraph:"span"},de="product-page-tabs",pe=()=>{const e=document.getElementById(de);e&&e.scrollIntoView({behavior:"smooth"})};var Ee=e=>{var t;const{productName:n,builderData:l,reviews:c,description:s,tabData:o,hideReviews:u}=e,{setSelectedTabId:d,setSelectedTabFocus:p}=(0,a.useContext)(se.B),{locale:g,mpv:v}=(0,a.useContext)(C.FD),{mpvId:f,coreProductId:h}=v,{isMobile:S}=(0,U.t)((0,i.OO)()),D={...null==c?void 0:c.summary,isClickable:!0,trackingData:{productId:f,coreProductId:h,category:ie.O.category,pageSection:ie.O.pageSection,pageStage:ie.O.pageStage,pageName:(0,ie.vU)(v.mpvId)}},w="en-in"!==g.toLowerCase()&&(null==c||null===(t=c.summary)||void 0===t?void 0:t.reviewsCount)>0&&!u;let x,N;o.forEach(((e,t)=>{"tabOverview"===e.type&&(x=t),"Design Specifications"===e.type&&(N=t)}));const I=re.p.getInstance().getTranslationEntry("seeDetails"),A=r().createElement(y.o,{fontSize:1,className:"product-description",marginBottom:4},r().createElement("p",{className:"product-description"},s&&r().createElement(O.A,{renderers:ue},s+" "),r().createElement(Y.w,{targetNodes:[I],elementName:"See Details"},r().createElement(b.N,{className:"see-details",onClick:async e=>{e.preventDefault(),void 0!==x&&(await d("tab-"+x),p(!0),pe())},href:void 0!==x&&x>=0?`#${de}`:void 0},null!=I?I:"")))),T=re.p.getInstance().getTranslationEntry("specsAndTemplatesLink"),P=N&&T&&r().createElement(E.p,{alignItems:"center",flexDirection:"row",mb:4},r().createElement(m.a,{pr:2},r().createElement(M.I,{iconType:"templates",size:"20p"})),r().createElement(m.a,null,r().createElement(Y.w,{targetNodes:[T],elementName:"Specs and templates callout anchor link"},r().createElement(y.o,{fontSize:1,onClick:async e=>{e.preventDefault(),k.Ay.trackDesignSpecsCalloutClick(v),void 0!==N&&(await d("tab-"+N),p(!0),pe())},className:"see-details"},r().createElement(me,{designSpecsTabIndex:N,productPageTabId:de,specsCalloutLink:T})))));return r().createElement(r().Fragment,null,r().createElement(E.p,{justifyContent:"space-between",alignItems:"center"},r().createElement("div",null,r().createElement(K.H1,{className:"product-name",fontWeight:"bold",fontSize:3,mb:S&&w?2:0},n),w?r().createElement(b.N,{skin:"unstyled",href:"#reviews-container",pb:4},r().createElement(q.UN,D)):void 0,e.showCampaignCallouts&&r().createElement(m.a,null,r().createElement(X.X1,{product:f,mb:2,className:"discount-gel"})),r().createElement(Y.w,{targetNodes:[l],elementName:"Product Subtext"},r().createElement(r().Fragment,null,l.productSubtext&&r().createElement(r().Fragment,null,r().createElement(Q.j,{xs:!0,sm:!0},r().createElement(y.o,{fontSize:1,className:"discount-text"},l.productSubtext)),r().createElement(Q.j,{md:!0,lg:!0,xl:!0},r().createElement(y.o,{fontSize:-1,className:"discount-text",pb:2},l.productSubtext)))))),r().createElement("div",null,r().createElement(z.A,{placeholderType:L.Or.ProductBuilderHeaderRight}))),r().createElement(oe,null),A,r().createElement(ce,null),P)},ge=n(58300),ve=n(69713),fe=n(27155);var Ce=e=>{const{description:t,builderData:n,tabData:l,ctaOverrideEntries:v,reviews:f,productBuilderSelections:b,showCampaignCallouts:h,hideReviews:y}=e,{updateInProgress:S,selections:D={}}=(0,a.useContext)(_.z),{mpv:w}=(0,a.useContext)(C.FD),{pluginData:x}=(0,a.useContext)(A.t),N=(0,ve.W)(),{mpvId:I,name:O}=w,{isDesktop:k}=(0,U.t)((0,i.OO)()),[T,P]=r().useState(!0),F=x.contentful.requiredInformationErrorToast,B=(0,a.useCallback)((()=>{0!==N.length&&(P(!1),setTimeout((()=>{P(!0)}),5e3))}),[N,D]);(0,a.useEffect)((()=>(document.addEventListener(fe._,B),()=>document.removeEventListener(fe._,B))),[B]);const G=(0,ge.L)(I);return r().createElement("div",{className:"on-page-builder"},r().createElement(s.z,{pt:5},r().createElement(o.E,{className:"builder-container"},r().createElement(m.a,null,r().createElement(Ee,{builderData:n,reviews:f,productName:O,description:t,tabData:l,hideReviews:y,showCampaignCallouts:h}),r().createElement(m.a,{className:"builder-controls"},r().createElement("div",{className:c()("builder-step-loader",{"loader-active":S})},r().createElement(u.Z0,{size:"extra-large",visuallyHiddenLabel:"Fetching compatible options"})),r().createElement(z.A,{placeholderType:L.Or.ProductConfigurator}),r().createElement(d.f,{className:b.length>0?"price-row":""},r().createElement(p.V,{span:12,className:"price-column"},r().createElement(E.p,{flexWrap:"wrap"},r().createElement(R,null),r().createElement(z.A,{placeholderType:L.Or.AfterPricing}))))),F&&r().createElement(g.y,{skin:"error",dismissed:T,mt:3,toast:!0},F),r().createElement(z.A,{placeholderType:L.Or.Ctas,customData:{showDescription:!0}}),r().createElement(z.A,{placeholderType:L.Or.AfterCtas}),r().createElement(E.p,{flexDirection:"column"},r().createElement(V,{isPhotobooksProduct:G,isDesktop:k,ctaOverrideEntries:v}),r().createElement($,null))))))};var be=e=>{const{locale:t,tabData:n,productBuilder:l,reviews:c,hideReviews:i,description:s,enableCampaignCallouts:o,ctaOverrideEntries:m,productBuilderOptions:u,initialBuildState:d}=(0,a.useContext)(C.FD);return r().createElement(Ce,{reviews:c,productBuilderSelections:(null==u?void 0:u.selections)||[],builderData:l,tabData:n,description:s,ctaOverrideEntries:m||{},buildStateCtas:null==d?void 0:d.siteflow,hideReviews:i,showCampaignCallouts:o,locale:t})}}}]);
//# sourceMappingURL=productBuilder-components-ProductBuilder-46a99d484d05270ed7a2.js.map