"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5359],{41656:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var l=n(47689),a=n.n(l),o=n(47050),r=n(22769),s=n(5696),i=n(23433),d=n(96148),u=n(99944),p=n(79868),c=n(94638),m=n(46942),g=n.n(m),E=n(21742),y=n(39228),h=n(67855),f=n(26436),C=n(39093);const v={[h.xt.AllPlaceholdersFilled]:"Each placeholder in this group needs to have some components rendered",[h.xt.AtLeastOnePlaceholderRendered]:"At least one placeholder in this group needs to have some components rendered"},x=e=>{const{pluginRegistry:t,enableContext:n,parentComponents:l,dataGroup:a,pluginOrdering:o,useExperiment:r}=e,s={};return{passed:a.map((e=>{const a=null==o?void 0:o[e.type],i=t.getComponents(r,e.type,n,l,a);return s[e.type]=i.map((e=>e.name)),i.length>0})).every((e=>e)),details:s}},S=e=>{const{pluginRegistry:t,enableContext:n,parentComponents:l,dataGroup:a,pluginOrdering:o,useExperiment:r}=e,s={};return{passed:a.map((e=>{const a=null==o?void 0:o[e.type],i=t.getComponents(r,e.type,n,l,a);return s[e.type]=i.map((e=>e.name)),i.length>0})).some((e=>e)),details:s}};var b=n(30630),D=n(42664),A=n(20494),O=n(32265),$=n(96454),R=n(25909),G=n(85283),z=n(63059),P=n(9845),T=n(97134),N=n(68931),w=n(22536),_=n(34280),F=n(61468),k=n(27700),L=n(42996),I=n(49581),U=n(25875),B=n(52013),H=n(62270);const V=e=>{const{placeholderGroupType:t,validationResults:n,children:o}=e,{0:r,1:s}=(0,l.useState)(!1),i=e=>a().createElement(c.p,null,a().createElement($.o,{fontSize:-2},"Result:Â "),a().createElement($.o,{fontSize:-2,className:e?"validation-result-passed":"validation-result-failed",allCaps:!0},e?"passed":"failed")),d=a().createElement(R.Hy,{isOpen:r,onRequestDismiss:()=>{s(!1)},variant:"panel-right",className:"debug-plugin-placeholder-group-modal-dialog"},a().createElement(G.w,null,a().createElement(z._,null,a().createElement(P.h,null)),a().createElement(T.v,null,a().createElement(c.p,{flexDirection:"column"},a().createElement(N.H2,{fontSize:1,mr:2},`Debug: placeholder group ${t}`),a().createElement(w.H3,{fontSize:-1},"Placeholder group validation:"),i(null==n?void 0:n.passed),a().createElement(B.H4,{fontSize:-1},"Validations Run:"),a().createElement(L.E,null,null==n?void 0:n.validationsRun.map((e=>a().createElement(I.f,{my:2},a().createElement(U.V,{span:12},a().createElement(_.Z,{bordered:!0},a().createElement($.o,{fontSize:-2},"Type: ",e.type),a().createElement($.o,{fontSize:-2},"Description: ",v[e.type]),i(e.passed),a().createElement($.o,{fontSize:-2},"Details:"),a().createElement(c.p,{ml:4,flexDirection:"column"},Object.entries(e.details).map((e=>{let[t,n]=e;return a().createElement(a().Fragment,null,a().createElement($.o,{fontSize:-2},"Placeholder: ",t),a().createElement($.o,{fontSize:-2},"Component names: ",n.join(",")),a().createElement(H.c,null))})))))))))))));return a().createElement("div",{className:"debug-plugin-placeholder-group-container"},a().createElement(c.p,{className:"debug-plugin-placeholder-group",flexDirection:"column"},a().createElement(c.p,{alignItems:"center",justifyContent:"space-between",darkMode:!0},a().createElement($.o,{fontSize:-2,mr:2},`Placeholder Group: ${t}`),a().createElement(F.N,{render:e=>a().createElement(k.$,{skin:"link",className:e.className,onClick:()=>s(!r)},e.children)},a().createElement($.o,{fontSize:-2},"Details")))),d,o)};var j=n(31646);var J=e=>{const{placeholderGroupType:t,children:n,dataGroup:r,validationTypes:i}=e,{isDebug:d}=(0,l.useContext)(f.B),{pluginRegistry:u,pluginOrdering:p}=(0,l.useContext)(b.C),c=(0,l.useContext)(o.FD),{experimentImpression:m}=(0,l.useContext)(D.I),{componentNames:g}=(0,l.useContext)(A.O),{useExperiment:E,isExperimentInitialized:y}=(0,j.d)(),{clientSideStateInitialized:v}=(0,l.useContext)(s.z),{0:$,1:R}=(0,l.useState)(void 0);(0,l.useEffect)((()=>{let e=!0;const t={experimentImpression:m,decision:c.decision,pageProps:c};if(v&&y){const n=(e=>{const{validationTypes:t}=e,n={passed:!0,validationsRun:[]};if(t.includes(h.xt.AllPlaceholdersFilled)){const t=x(e);n.validationsRun.push({type:h.xt.AllPlaceholdersFilled,...t})}if(t.includes(h.xt.AtLeastOnePlaceholderRendered)){const t=S(e);n.validationsRun.push({type:h.xt.AtLeastOnePlaceholderRendered,...t})}return{...n,passed:n.validationsRun.every((e=>e.passed))}})({pluginRegistry:u,enableContext:t,parentComponents:g,dataGroup:r,validationTypes:i,pluginOrdering:p,useExperiment:E});e&&(R(n),n.passed||(console.log(`PlaceholderGroup validation failed: ${JSON.stringify(n)}`),O.V.instance.error(`PlaceholderGroup validation failed: ${JSON.stringify(n)}`)))}return()=>{e=!1}}),[v,y]);const G=r.map(((e,n)=>a().createElement(C.A,{placeholderType:e.type,key:`${t}-${n}`,customData:e.data})));return G.length?d?a().createElement(V,{placeholderGroupType:t,validationResults:$},G):a().createElement(a().Fragment,null,G):d?a().createElement(V,{placeholderGroupType:t,validationResults:$},n):a().createElement(a().Fragment,null,n)},K=n(39843),M=n(99194);var W=e=>{const{0:t,1:n}=(0,l.useState)(),{isMobile:m}=(0,u.t)((0,p.OO)()),{studioDocumentUrl:f}=(0,M.A)();(0,l.useEffect)((()=>{let e=!0;return(async()=>{const t=await(0,d.Th)({tenant:O,culture:S,productKey:b.coreProductId,version:b.version,flowAction:"bulkorder",optionValues:{},quantity:void 0,optimizelyEndUserId:(0,K.F)(),isMobile:m,urlTokens:{documentUrl:f}});e&&n(null==t?void 0:t.url)})(),()=>{e=!1}}),[m]);const{satisfactionGuaranteedInView:C}=(0,l.useContext)(r.G),{multisiteflow:v}=(0,l.useContext)(i.Y),{selectedQuantity:x}=(0,l.useContext)(s.z),{locale:S,mpv:b,ctaOverrideEntries:D,initialBuildState:A,tenant:O}=(0,l.useContext)(o.FD),$=null==A?void 0:A.siteflow,[R,G]=(0,E.Wx)({threshold:0}),z=x===y.WR?(0,y.dL)(t):v||$,P={"99designs":h.$s.CtaNinetyNineDesigns,addtocart:h.$s.CtaAddToCart,albelligallery:h.$s.CtaAlbelliGallery,albellistudio:h.$s.CtaAlbelliStudio,bulkorder:h.$s.CtaBulkOrder,gallery:h.$s.CtaGallery,studio:h.$s.CtaStudio,"studio:blank":h.$s.CtaStudioBlank,"studio:custom":h.$s.CtaStudioCustom,"studio:fullbleed":h.$s.CtaStudioFullBleed,"studio:template":h.$s.CtaStudioTemplate,uploadandgo:h.$s.CtaUploadAndGo,uploadandprint:h.$s.CtaUploadAndPrint,designassistant:h.$s.CtaDesignAssistant};return a().createElement(a().Fragment,null,a().createElement(c.p,{className:g()(["cta-group",{"cta-group-border":!C}]),flexWrap:"nowrap",justifyContent:"space-between",marginTop:5,ref:R},(()=>{const t=[];let n=0;return null==z||z.flows.forEach((l=>{const a=null==D?void 0:D[l.type];if((null==a||!a.disableCta)&&P[l.type]){const a={type:P[l.type],data:{flow:l,isPrimaryCta:0===n,buttonIndex:n,showDescription:e.customData.showDescription,isDesignUploaded:!!f}};n++,t.push(a)}})),a().createElement(J,{placeholderGroupType:h.J2.CtaGroup,dataGroup:t,validationTypes:[h.xt.AllPlaceholdersFilled,h.xt.AtLeastOnePlaceholderRendered]})})()))}}}]);
//# sourceMappingURL=components-CtasContainer-CtasContainer-6fd1cc45461484f4a85c.js.map