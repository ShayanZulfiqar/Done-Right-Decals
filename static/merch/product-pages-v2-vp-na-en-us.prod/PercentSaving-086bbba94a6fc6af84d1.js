"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3600],{57869:function(t,e,i){i.r(e),i.d(e,{default:function(){return O}});var n=i(47689),o=i.n(n),l=i(4580),u=i(67727),c=i(47050),d=i(23433),a=i(44631),r=i(5696),s=i(55367),v=i(60297),y=i(79868),P=i(96148),f=i(39843),m=i(99944),D=i(39228),p=i(43242),L=i(85426);const h=t=>{var e,i,h,O,_,g,A;let{savingsFormat:C}=t;const{0:S,1:b}=(0,n.useState)(),{locale:k,mpv:E}=(0,n.useContext)(c.FD),{prices:x,compatibleQuantities:K}=(0,n.useContext)(d.Y),{pluginData:Q}=(0,n.useContext)(a.t),{clientSideStateInitialized:F,selectedQuantity:I,selectQuantity:$}=(0,n.useContext)(r.z),{vatInclusivity:q}=(0,n.useContext)(v.S),{isMobile:U}=(0,m.t)((0,y.OO)());(0,n.useEffect)((()=>{let t=!0;return(async()=>{const e=await(0,P.Th)({tenant:u.A.tenant,culture:k,flowAction:"bulkorder",productKey:E.coreProductId,version:E.version,optionValues:{},quantity:void 0,optimizelyEndUserId:(0,f.F)(),isMobile:U});t&&b(null==e?void 0:e.url)})(),()=>{t=!1}}),[U]);const w=Q.contentful.quantity||"",M=Q.contentful.recommended||"",z=t=>{var e;return null!==(e=q?null==t?void 0:t.taxed:null==t?void 0:t.untaxed)&&void 0!==e?e:0},B=L.F.has(E.coreProductId),H=B?K[1]:K[0],j=z(null===(e=x[H])||void 0===e?void 0:e.unitDiscountedPrice),N=K[K.length-1].toLocaleString(k),R=Q.contentful.bulkOrderQuantity;let T=N;if(R){T=(new p.default).replace(R,{quantity:`${N}`})}const V=E.quantities.recommended,W=K.map((t=>{var e,i,n,o,l,u,c,d,a,r,s,v,y;const P=z(null===(e=x[t])||void 0===e?void 0:e.unitDiscountedPrice)*t,f=j*t,m=f-P,D=Math.floor(m/f*100);return{key:`${t}`,name:`${t}`,isCompatible:!0,isOutOfStock:!1,callouts:V&&t===V?[{key:"recommended",style:"announcement",text:M}]:void 0,totalDiscountedPrice:z(null===(i=x[t])||void 0===i?void 0:i.totalDiscountedPrice),totalListPrice:z(null===(n=x[t])||void 0===n?void 0:n.totalListPrice),unitDiscountedPrice:z(null===(o=x[t])||void 0===o?void 0:o.unitDiscountedPrice),unitListPrice:z(null===(l=x[t])||void 0===l?void 0:l.unitListPrice),differentialDiscountPrice:z(null===(u=x[t])||void 0===u?void 0:u.totalDiscountedPrice)-z(null===(c=x[I])||void 0===c?void 0:c.totalDiscountedPrice),differentialListPrice:z(null===(d=x[t])||void 0===d?void 0:d.totalListPrice)-z(null===(a=x[I])||void 0===a?void 0:a.totalListPrice),differentialUnitDiscountPrice:z(null===(r=x[t])||void 0===r?void 0:r.unitDiscountedPrice)-z(null===(s=x[I])||void 0===s?void 0:s.unitDiscountedPrice),differentialUnitListPrice:z(null===(v=x[t])||void 0===v?void 0:v.unitListPrice)-z(null===(y=x[I])||void 0===y?void 0:y.unitListPrice),savingsPercent:D}}));return(0,D.Mh)(K,S)&&W.push({key:`${D.WR}`,name:`${T}`,isCompatible:!0}),o().createElement(l.md,{locale:k},o().createElement(l.Hn,{productOption:{key:"Quantity",name:w,style:"quantity-list",selectedKey:`${I}`,choices:W},savingsFormat:C,hasSampleQuantity:B,skin:"wide",tenant:u.A.tenant,locale:k,currency:null!==(i=null===(h=Object.values(x||{}))||void 0===h||null===(O=h[0])||void 0===O?void 0:O.currency)&&void 0!==i?i:"",hidePrices:!F,fractionDigits:null!==(_=null===(g=Object.values(x||{}))||void 0===g||null===(A=g[0])||void 0===A?void 0:A.fractionDigits)&&void 0!==_?_:2,onChanged:t=>{const e=t.choiceKey||"";$(parseInt(e)),s.Ay.trackBuilderSelection({optionKey:"Quantity",valueKey:e})}}))};var O=()=>o().createElement(h,{savingsFormat:"percent"})}}]);
//# sourceMappingURL=PercentSaving-086bbba94a6fc6af84d1.js.map